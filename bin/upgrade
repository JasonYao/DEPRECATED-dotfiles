#!/usr/bin/env bash

##
# Upgrade script that is run
##

. helper

# Runs OS-specific scripts
if [[ "$(uname -s)" == "Darwin" ]]; then
	info "OS: MacOS was detected, running MacOS setup script now"
	if "$dotfiles_directory"/osx/setup 2>&1 ; then
		success "MacOS: All MacOS-specific configurations are now set"
	else
		fail "MacOS: Some MacOS-specific configurations failed to be set"
	fi
else
	info "OS: GNU/Linux was detected, running Linux setup script now"
	if "$dotfiles_directory"/unix/setup 2>&1 ; then
		success "Linux: All GNU/Linux-specific configurations are now set"
	else
		fail "Linux: Some GNU/Linux-specific configurations failed to be set"
	fi
fi

# Sets up git environment
info "Git: Checking current environment"
if "$dotfiles_directory"/git/setup ; then
	success "Git: Environment installed"
else
	fail "Git: Environment failed to install"
fi

# Sets up editor environment(s)
info "Editors: Checking current configurations"
if "$dotfiles_directory"/editors/setup ; then
	success "Editors: All terminal editors are now configured"
else
	fail "Editors: Some terminal editors failed to be configured"
fi
