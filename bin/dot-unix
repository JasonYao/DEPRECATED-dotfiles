#!/usr/bin/env bash

# dot-unix: Handles installation & updating of dependencies. Run periodically to ensure latest packages are set

set -e

# Updates & upgrades
	info "Updating packages"
	if sudo apt-get update -y > /dev/null ; then
		success "Packages were updated"
	else
		fail "Packages were unable to be updated"
	fi

	info "Upgrading packages"
	if sudo apt-get dist-upgrade -y > /dev/null ; then
		success "Packages were upgraded"
	else
		fail "Packages were unable to be upgraded"
	fi

# Checks for dependency packages
	checkAndInstallPackage wget					# Used in general downloading
	checkAndInstallPackage git					# Used in general project upkeep
	checkAndInstallPackage checkinstall			# Used in checking in custom compiled packages to apt-get
	checkAndInstallPackage build-essential		# Used in common compiling

# Auto removes any unnecessary packages
	info "Auto removing any unnecessary packages"
	if sudo apt-get autoremove -y > /dev/null ; then
		success "All unnecessary packages removed"
	else
		fail "Unable to remove unnecessary packages"
	fi
